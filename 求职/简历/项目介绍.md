## Hiiimeta

针对Hiiimeate，整体上是一个社区类型站点，社区属性是针对IP的，比如：集原美、陈情令等二次元IP，任何人或者IP方或者一些授权的IP放可以在Hiiimeta中创建自己的IP社区，发布内容，类似于百度贴吧。

我主要负责的是整个社区功能的开发和AIGC相关功能集成，以及后期的项目改造。

#### 难点

- 项目改造：
  - 项目的前期是外包+自己的研发选用的qiankun作为微前端架子
    - 初衷是方便外包等其他团队介入，保证多个团队可以快速迭代开发，互不影响；
    - 但是造成了拆分过细，模块过多，后期调试部署等非常困难的问题，已经严重影响开发效率了
    - 但是qiankun还是1.X，对Vite等现代打包工具支持不抬优化，恰好当时京东发布了MicroApp 1.0，就直接上了MicroAPP作为微前端的基本架子
    - 但是事实外包只做了静态官网首页，后期就没有介入，造成模块过多当时大概有8个模块，分成了8个项目，每次部署需要对8个模块分别打包部署，
    - qiankun对vite等最新的打包工具支持也不友好
    - 后面改造使用了京东的MicroAPP，暂时支持了Vite的等打包工具，同时添加了子应用的通信功能，也方便后期为合并项目做准备
      - 官网首页
      - 创作工具
      - 社区
      - 个人资料
      - 社区管理编辑后台
      - 导航（主应用）
      - 富文本
      - 消息通知
    - 集成了CI/CD减轻部署困难的问题
- AIGC工具
  - 文生图
  - 图生图
  - 局部修改
  - 配置参数
    - 选择模型
    - 图片清晰图
    - 图片比例
    - 图片数量
    - 等一些基本参数
  - 任务队列：这个是为了提升用户体验，使用的轮询，
- AIGC集成
  - 集成到更换头像
  - 生成社区图文内容
- 编辑器开发
  - canvas 绘制 + AIGC集成
  - 比如说漫画编辑器，通过canvas绘制多个漫画模版
  - 集成AIGC，通过文生图工具生成漫画，自动插入编辑器内容
  - 用户可以调整图片
  - 生成文字内容
  - 最后保存漫画为一张图片
  - 整个过程差不多就是这个样子
  - `cropper` 
  - `fabric` 
- 富文本编辑器
  - `lexical` 
  - 排版
  - 图片水印
  - 基本功能，比如 字体，颜色，列表等
  - 高度集成的图片功能
  - 还有文本生成功能
  - 难点是，需要有图片或者文本生成的历史记录，用户可以随时查看和对比生成历史，选取最佳的生成
  - 
  



